image:
  repository: ethereum/source-verify
  tag: server-latest
  pullPolicy: IfNotPresent

##
## Application
##

controller:
  type: statefulset
  replicas: 1
  strategy: RollingUpdate

service:
  main:
    enabled: true
    primary: true
    type: ClusterIP
    ports:
      http:
        port: 80

##
## Environment configuration
##

env:
  REPOSITORY_PATH: /data/repository
  SOLC_REPO: /data/compilers/solc
  SOLJSON_REPO: /data/compilers/soljson
  SERVER_PORT: "80"
  SESSION_SECRET: yoursessionsecret
  IPFS_GATEWAY: https://ipfs.io/ipfs/
  AUTH0_AUDIENCE: https://sourcify.dev
  AUTH0_ISSUERBASEURL: https://dev-htkreq1l71u1hn5l.us.auth0.com
  AUTH0_TOKENSIGNINGALG: RS256
  AUTH0_CLIENTID: epipuQWJL67dVggPvxNmAy40ggzNum9F

##
## Data persistence
##

persistence:
  data:
    enabled: true
    type: pvc
    existingClaim: sourcify-repository
    mountPath: /data/repository
  compilers:
    enabled: true
    type: pvc
    existingClaim: sourcify-compilers
    mountPath: /data/compilers

##
## Health probes
##

probes:
  liveness:
    enabled: true
    spec:
      initialDelaySeconds: 0
      periodSeconds: 10
      timeoutSeconds: 1
      failureThreshold: 3
  readiness:
    enabled: true
    spec:
      initialDelaySeconds: 0
      periodSeconds: 10
      timeoutSeconds: 1
      failureThreshold: 3
  startup:
    enabled: true
    spec:
      initialDelaySeconds: 0
      timeoutSeconds: 1
      periodSeconds: 5
      failureThreshold: 30

##
## Ingress
##

ingress:
  main:
    enabled: false
